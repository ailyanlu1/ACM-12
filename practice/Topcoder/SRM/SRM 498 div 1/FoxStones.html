<html><body bgcolor="#006633" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>Fox Ciel has a rectangular board separated into 1x1 cells.  The board is <b>N</b> cells wide and <b>M</b> cells high.  Columns are numbered 1 to <b>N</b> from left to right, and rows are numbered 1 to <b>M</b> from top to bottom.  A cell in column x, row y is said to have coordinates (x, y).  Each cell contains a stone, and all stones are different.  Also, some cells are marked.  These marked cells are given in the vector &lt;int&gt;s <b>sx</b> and <b>sy</b>, where (<b>sx</b>[i], <b>sy</b>[i]) are the coordinates of the i-th marked cell.
<br></br><br></br>
Ciel is interested to know how many layouts of the same stones on this board are <i>similar</i> to the current layout.  Two layouts are considered to be <i>similar</i> if, for each possible pairing of a stone and a marked cell, the distance between the stone and the marked cell is the same in both layouts.  The distance between cells with coordinates (xA, yA) and (xB, yB) is defined as max{|xA-xB|, |yA-yB|}, where |z| is the absolute value of z.
<br></br><br></br>
Return the number of layouts that are <i>similar</i> to the current layout, modulo 1,000,000,009. Note that according to the definition above, the current layout is <i>similar</i> to itself, so it should also be counted.
</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>FoxStones</td></tr><tr><td>Method:</td><td>getCount</td></tr><tr><td>Parameters:</td><td>int, int, vector &lt;int&gt;, vector &lt;int&gt;</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int getCount(int N, int M, vector &lt;int&gt; sx, vector &lt;int&gt; sy)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>N</b> and <b>M</b> will each be between 1 and 200, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>sx</b> and <b>sy</b> will each contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>sx</b> and <b>sy</b> will contain the same number of elements.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>sx</b> will be between 1 and <b>N</b>, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>sy</b> will be between 1 and <b>M</b>, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>No two cells represented by <b>sx</b> and <b>sy</b> will have the same coordinates.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>6</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>{3}</pre></td></tr><tr><td><pre>{1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 4</pre></td></tr><tr><td><table><tr><td colspan="2"><p>There are 4 similar layouts:</p>
<br></br>
<img src="http://www.topcoder.com/contest/problem/FoxStones/LatticePermutation_fig1.gif"></img></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>2</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>{2}</pre></td></tr><tr><td><pre>{1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 6</pre></td></tr><tr><td><table><tr><td colspan="2"><img src="http://www.topcoder.com/contest/problem/FoxStones/LatticePermutation_fig2.gif"></img></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>3</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>{1,2,3}</pre></td></tr><tr><td><pre>{1,2,3}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 8</pre></td></tr><tr><td><table><tr><td colspan="2"><img src="http://www.topcoder.com/contest/problem/FoxStones/LatticePermutation_fig3.gif"></img></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>12</pre></td></tr><tr><td><pre>34</pre></td></tr><tr><td><pre>{5,6,7,8,9,10}</pre></td></tr><tr><td><pre>{11,12,13,14,15,16}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 410850247</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
